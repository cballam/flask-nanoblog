{% extends 'base.html' %}

{% block content %}

<h2 id="pageTitle">
  {{ post.title }}
</h2>

<h4 id="pageTitle" class="text-muted">
  <strong> {{ post.subtitle }} </strong>
  <br>
  <small> Posted by: {{ post.author }} on {{ post.date_posted.strftime('%B %d, %Y') }} </small>
</h4>

<div class="container">
  <div class="row">
    <div class="col-lg-8 col-md-10 mx-auto" id="postContent">
      {{ post.content }}
    </div>
    <br>
  </div>
</div>

{% if session['username'] %}
  {% if session['username'] == post.author %}
    <div class="buttons">
      <a href="{{ url_for('update', post_id = post.id) }}" class="btn btn-warning" id="updatePost" role="button">Update Post</a>
      <a class="btn btn-danger" data-toggle="modal" data-target="#deleteModal">Delete Post</a>
    </div>

    <!-- Based off of example from https://getbootstrap.com/docs/4.0/components/modal/ -->
    <div id = "#deleteModal" class="modal fade" tabindex="-1" role="dialog">
      <div class="modal-dialog" role="document">
        <div class="modal-content">
          <div class="modal-header">
            <h5 class="modal-title">Are you sure you want to delete this post?</h5>
            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
            <span aria-hidden="true">&times;</span>
          </button>
          </div>
          <div class="modal-body">
            <p>This action is not reversible</p>
          </div>
          <div class="modal-footer">
            <a href="{{ url_for('delete', post_id = post.id) }}" class="btn btn-danger" id="deletePost">Delete Post</a>
          </div>
        </div>
      </div>
    </div>
  {% endif %}

<hr>

<!-- Reply to post -->

<!-- Replies -->
<!-- {%- for reply in replies %}
  <h4> <strong> Posted by: {{reply.author}} at {{reply.date_posted.strftime('%B %d, %Y')}} <strong> </h4>
  <p> {{reply.content}} </p>

  <hr>
{%- endfor %} -->

{% endif %}





{% endblock %}
